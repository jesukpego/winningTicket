# Generated by Django 4.2.10 on 2026-01-18 02:21

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='AuditLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('action', models.CharField(choices=[('user_login', 'User Login'), ('user_logout', 'User Logout'), ('ticket_purchase', 'Ticket Purchase'), ('draw_created', 'Draw Created'), ('draw_processed', 'Draw Processed'), ('winner_calculated', 'Winner Calculated'), ('payout_processed', 'Payout Processed'), ('refund_issued', 'Refund Issued'), ('game_created', 'Game Created'), ('game_updated', 'Game Updated'), ('payment_processed', 'Payment Processed'), ('admin_action', 'Administrative Action'), ('security_event', 'Security Event'), ('api_call', 'API Call')], max_length=50, verbose_name='Action Type')),
                ('level', models.CharField(choices=[('info', 'Information'), ('warning', 'Warning'), ('error', 'Error'), ('critical', 'Critical'), ('debug', 'Debug')], default='info', max_length=10, verbose_name='Log Level')),
                ('description', models.TextField(verbose_name='Action Description')),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True, verbose_name='IP Address')),
                ('user_agent', models.TextField(blank=True, verbose_name='User Agent')),
                ('metadata', models.JSONField(blank=True, null=True, verbose_name='Additional Metadata')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Audit Log',
                'verbose_name_plural': 'Audit Logs',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Company',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=150, verbose_name='Company Legal Name')),
                ('registration_number', models.CharField(max_length=100, unique=True, verbose_name='Business Registration Number')),
                ('contact_email', models.EmailField(max_length=254, verbose_name='Primary Contact Email')),
                ('contact_phone', models.CharField(blank=True, max_length=20, verbose_name='Contact Phone Number')),
                ('address', models.TextField(blank=True, verbose_name='Registered Address')),
                ('verified', models.BooleanField(default=False, verbose_name='Company Verified by Platform')),
                ('is_active', models.BooleanField(default=True, verbose_name='Account Active')),
                ('balance', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Available Balance')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('verified_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Company',
                'verbose_name_plural': 'Companies',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='Draw',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('draw_date', models.DateTimeField(verbose_name='Actual Draw Date & Time')),
                ('draw_number', models.PositiveIntegerField(help_text='e.g., 1234 (incremental per game)', verbose_name='Draw Sequence Number')),
                ('winning_numbers', models.JSONField(help_text='Array of winning numbers', verbose_name='Winning Numbers')),
                ('winning_powerball', models.IntegerField(blank=True, help_text='Only if game has_powerball is True', null=True, verbose_name='Winning Powerball')),
                ('jackpot_amount', models.DecimalField(decimal_places=2, max_digits=15, verbose_name='Jackpot Amount for This Draw')),
                ('jackpot_won', models.BooleanField(default=False, verbose_name='Jackpot Won in This Draw')),
                ('total_tickets', models.PositiveIntegerField(default=0, verbose_name='Total Tickets for This Draw')),
                ('total_winners', models.PositiveIntegerField(default=0, verbose_name='Total Winning Tickets')),
                ('total_prize_paid', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Total Prize Money Paid')),
                ('processed', models.BooleanField(default=False, verbose_name='Draw Processed')),
                ('processed_at', models.DateTimeField(blank=True, null=True, verbose_name='Processing Completion Time')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL, verbose_name='Draw Created By')),
            ],
            options={
                'verbose_name': 'Draw',
                'verbose_name_plural': 'Draws',
                'ordering': ['-draw_date'],
            },
        ),
        migrations.CreateModel(
            name='Game',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(help_text='Public name of the lottery game', max_length=100, verbose_name='Game Name')),
                ('slug', models.SlugField(help_text='URL-friendly version of name', max_length=100, unique=True, verbose_name='URL Slug')),
                ('description', models.TextField(blank=True, help_text='Detailed description for players', verbose_name='Game Description')),
                ('organizer_type', models.CharField(choices=[('platform', 'Platform - Official Game'), ('company', 'Company - Business Partner'), ('individual', 'Individual - Verified User')], max_length=15, verbose_name='Organizer Type')),
                ('ticket_price', models.DecimalField(decimal_places=2, help_text='Amount user pays for one ticket', max_digits=10, verbose_name='Price per Ticket')),
                ('prize_amount', models.DecimalField(decimal_places=2, help_text='Amount to be distributed to winners', max_digits=12, verbose_name='Total Prize Amount')),
                ('platform_fee_percent', models.DecimalField(decimal_places=2, default=10.0, help_text='Percentage taken by platform from ticket sales', max_digits=5, verbose_name='Platform Commission (%)')),
                ('min_numbers', models.PositiveIntegerField(default=1, verbose_name='Minimum Numbers to Select')),
                ('max_numbers', models.PositiveIntegerField(default=6, verbose_name='Maximum Numbers to Select')),
                ('number_range', models.PositiveIntegerField(default=50, verbose_name='Number Range (1 to X)')),
                ('has_powerball', models.BooleanField(default=False, verbose_name='Includes Powerball Number')),
                ('powerball_range', models.PositiveIntegerField(default=10, help_text='Only used if has_powerball is True', verbose_name='Powerball Range (1 to X)')),
                ('next_draw', models.DateTimeField(verbose_name='Next Draw Date & Time')),
                ('ticket_sale_end', models.DateTimeField(help_text='Last moment to buy tickets for next draw', verbose_name='Ticket Sales End')),
                ('status', models.CharField(choices=[('draft', 'Draft - Not Published'), ('pending', 'Pending Approval'), ('active', 'Active - Accepting Tickets'), ('closed', 'Closed - Draw Completed'), ('canceled', 'Canceled - No Draw')], default='draft', max_length=10, verbose_name='Game Status')),
                ('total_tickets_sold', models.PositiveIntegerField(default=0, verbose_name='Total Tickets Sold')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('published_at', models.DateTimeField(blank=True, null=True)),
                ('company', models.ForeignKey(blank=True, help_text="Required if organizer_type is 'company'", null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='games', to='principal.company', verbose_name='Company Organizer')),
                ('organizer_user', models.ForeignKey(blank=True, help_text="Required if organizer_type is 'individual'", null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='organized_games', to=settings.AUTH_USER_MODEL, verbose_name='Individual Organizer')),
            ],
            options={
                'verbose_name': 'Game',
                'verbose_name_plural': 'Games',
                'ordering': ['-next_draw'],
            },
        ),
        migrations.CreateModel(
            name='Payment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('transaction_id', models.CharField(help_text='Unique identifier from payment gateway', max_length=150, unique=True, verbose_name='Transaction ID')),
                ('internal_reference', models.CharField(blank=True, help_text='Our internal reference (e.g., TICKET-123)', max_length=100, verbose_name='Internal Reference')),
                ('amount', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Transaction Amount')),
                ('payment_type', models.CharField(choices=[('ticket', 'Ticket Purchase'), ('payout', 'Prize Payout'), ('refund', 'Refund'), ('commission', 'Platform Commission'), ('deposit', 'Wallet Deposit'), ('withdrawal', 'Wallet Withdrawal')], max_length=15, verbose_name='Payment Type')),
                ('payment_method', models.CharField(choices=[('credit_card', 'Credit Card'), ('debit_card', 'Debit Card'), ('bank_transfer', 'Bank Transfer'), ('ewallet', 'E-Wallet'), ('wallet', 'Platform Wallet'), ('crypto', 'Cryptocurrency')], max_length=20, verbose_name='Payment Method')),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('processing', 'Processing'), ('completed', 'Completed'), ('failed', 'Failed'), ('canceled', 'Canceled'), ('refunded', 'Refunded')], default='pending', max_length=10, verbose_name='Payment Status')),
                ('processing_fee', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Processing Fee')),
                ('net_amount', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='Net Amount Received')),
                ('gateway_response', models.JSONField(blank=True, null=True, verbose_name='Payment Gateway Response')),
                ('gateway_transaction_id', models.CharField(blank=True, max_length=150, verbose_name='Gateway Transaction ID')),
                ('ip_address', models.GenericIPAddressField(blank=True, null=True, verbose_name='IP Address')),
                ('user_agent', models.TextField(blank=True, verbose_name='User Agent')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('completed_at', models.DateTimeField(blank=True, null=True)),
                ('game', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='payments', to='principal.game', verbose_name='Game (if applicable)')),
            ],
            options={
                'verbose_name': 'Payment',
                'verbose_name_plural': 'Payments',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Syndicate',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=100, verbose_name='Syndicate Name')),
                ('description', models.TextField(blank=True, verbose_name='Description')),
                ('max_members', models.PositiveIntegerField(default=10, verbose_name='Maximum Members')),
                ('ticket_price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Total Ticket Price')),
                ('share_price', models.DecimalField(decimal_places=2, max_digits=10, verbose_name='Price per Share')),
                ('total_shares', models.PositiveIntegerField(verbose_name='Total Shares Available')),
                ('numbers', models.JSONField(help_text='Numbers for syndicate tickets', verbose_name='Syndicate Numbers')),
                ('powerball', models.IntegerField(blank=True, null=True, verbose_name='Syndicate Powerball')),
                ('is_active', models.BooleanField(default=True, verbose_name='Active Syndicate')),
                ('is_full', models.BooleanField(default=False, verbose_name='Fully Subscribed')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('creator', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='created_syndicates', to=settings.AUTH_USER_MODEL, verbose_name='Creator')),
                ('game', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='syndicates', to='principal.game', verbose_name='Game')),
            ],
            options={
                'verbose_name': 'Syndicate',
                'verbose_name_plural': 'Syndicates',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Ticket',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('ticket_id', models.CharField(editable=False, help_text='Format: GAME-YYYYMMDD-XXXXX', max_length=20, unique=True, verbose_name='Public Ticket ID')),
                ('numbers', models.JSONField(help_text='Array of selected numbers, e.g., [1, 15, 23, 34, 45]', verbose_name='Selected Numbers')),
                ('powerball', models.IntegerField(blank=True, help_text='Only if game has_powerball is True', null=True, verbose_name='Powerball Number')),
                ('draw_date', models.DateTimeField(verbose_name='Scheduled Draw Date')),
                ('status', models.CharField(choices=[('pending', 'Pending - Awaiting Draw'), ('won', 'Won - Winning Ticket'), ('lost', 'Lost - Non-winning Ticket'), ('refunded', 'Refunded - Purchase Refunded')], default='pending', max_length=10, verbose_name='Ticket Status')),
                ('win_amount', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='Amount Won')),
                ('checked', models.BooleanField(default=False, verbose_name='Checked Against Draw')),
                ('match_count', models.PositiveIntegerField(default=0, verbose_name='Numbers Matched')),
                ('has_powerball_match', models.BooleanField(default=False, verbose_name='Powerball Matched')),
                ('prize_tier', models.CharField(blank=True, help_text="e.g., 'Match 5 + Powerball'", max_length=50, verbose_name='Prize Tier')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('checked_at', models.DateTimeField(blank=True, null=True)),
                ('draw', models.ForeignKey(blank=True, help_text='Draw this ticket participates in', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='tickets', to='principal.draw', verbose_name='Associated Draw')),
                ('game', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='tickets', to='principal.game', verbose_name='Game')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='tickets', to=settings.AUTH_USER_MODEL, verbose_name='Ticket Owner')),
            ],
            options={
                'verbose_name': 'Ticket',
                'verbose_name_plural': 'Tickets',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Winner',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('prize_amount', models.DecimalField(decimal_places=2, max_digits=12, verbose_name='Prize Amount')),
                ('prize_tier', models.CharField(help_text="e.g., 'Match 5 + Powerball'", max_length=100, verbose_name='Prize Tier')),
                ('claimed', models.BooleanField(default=False, verbose_name='Prize Claimed by Winner')),
                ('claimed_at', models.DateTimeField(blank=True, null=True, verbose_name='Claim Date')),
                ('paid', models.BooleanField(default=False, verbose_name='Prize Paid to Winner')),
                ('paid_at', models.DateTimeField(blank=True, null=True, verbose_name='Payment Date')),
                ('tax_withheld', models.DecimalField(decimal_places=2, default=0, max_digits=10, verbose_name='Tax Withheld at Source')),
                ('tax_percentage', models.DecimalField(decimal_places=2, default=0, max_digits=5, verbose_name='Tax Percentage Applied')),
                ('payout_method', models.CharField(blank=True, help_text="e.g., 'bank_transfer', 'wallet', 'check'", max_length=50, verbose_name='Payout Method')),
                ('payout_reference', models.CharField(blank=True, max_length=150, verbose_name='Payout Reference/Transaction ID')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('draw', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='winners', to='principal.draw', verbose_name='Draw')),
                ('ticket', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='winner_record', to='principal.ticket', verbose_name='Winning Ticket')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='winnings', to=settings.AUTH_USER_MODEL, verbose_name='Winner')),
            ],
            options={
                'verbose_name': 'Winner',
                'verbose_name_plural': 'Winners',
                'ordering': ['-prize_amount'],
            },
        ),
        migrations.CreateModel(
            name='UserProfile',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('total_spent', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='Total Amount Spent on Tickets')),
                ('total_won', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='Total Winnings Received')),
                ('games_played', models.PositiveIntegerField(default=0, verbose_name='Total Tickets Purchased')),
                ('daily_limit', models.DecimalField(decimal_places=2, default=100.0, max_digits=10, verbose_name='Maximum Daily Spending Limit')),
                ('weekly_limit', models.DecimalField(decimal_places=2, default=500.0, help_text='0 means no limit', max_digits=10, verbose_name='Maximum Weekly Spending Limit')),
                ('age_verified', models.BooleanField(default=False, verbose_name='Age Verification Completed')),
                ('verification_date', models.DateTimeField(blank=True, null=True, verbose_name='Date of Age Verification')),
                ('email_notifications', models.BooleanField(default=True, verbose_name='Receive Email Notifications')),
                ('sms_notifications', models.BooleanField(default=False, verbose_name='Receive SMS Notifications')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('user', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='profile', to=settings.AUTH_USER_MODEL, verbose_name='Django User Account')),
            ],
            options={
                'verbose_name': 'User Profile',
                'verbose_name_plural': 'User Profiles',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SyndicateMember',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('shares', models.PositiveIntegerField(verbose_name='Shares Owned')),
                ('is_manager', models.BooleanField(default=False, verbose_name='Syndicate Manager')),
                ('paid', models.BooleanField(default=False, verbose_name='Share Payment Completed')),
                ('share_of_winnings', models.DecimalField(decimal_places=2, default=0, max_digits=12, verbose_name='Share of Winnings')),
                ('winnings_paid', models.BooleanField(default=False, verbose_name='Winnings Paid')),
                ('joined_at', models.DateTimeField(auto_now_add=True)),
                ('payment', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='principal.payment', verbose_name='Payment Record')),
                ('syndicate', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='members', to='principal.syndicate', verbose_name='Syndicate')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='syndicate_memberships', to=settings.AUTH_USER_MODEL, verbose_name='Member')),
            ],
            options={
                'verbose_name': 'Syndicate Member',
                'verbose_name_plural': 'Syndicate Members',
            },
        ),
        migrations.AddField(
            model_name='payment',
            name='ticket',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='payments', to='principal.ticket', verbose_name='Ticket (if applicable)'),
        ),
        migrations.AddField(
            model_name='payment',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='payments', to=settings.AUTH_USER_MODEL, verbose_name='User'),
        ),
        migrations.CreateModel(
            name='GameFinance',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('total_sales', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Total Ticket Sales Amount')),
                ('total_tickets', models.PositiveIntegerField(default=0, verbose_name='Total Tickets Sold')),
                ('platform_fee_amount', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Total Platform Fee')),
                ('organizer_profit', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Organizer Profit')),
                ('total_prize_pool', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Total Prize Pool')),
                ('prize_paid_out', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Prize Paid to Winners')),
                ('prize_remaining', models.DecimalField(decimal_places=2, default=0, max_digits=15, verbose_name='Unclaimed Prize Money')),
                ('prize_paid', models.BooleanField(default=False, verbose_name='All Prizes Paid')),
                ('fees_settled', models.BooleanField(default=False, verbose_name='Platform Fees Settled')),
                ('profit_paid', models.BooleanField(default=False, verbose_name='Organizer Profit Paid')),
                ('settled', models.BooleanField(default=False, verbose_name='Game Fully Settled')),
                ('last_sale_at', models.DateTimeField(blank=True, null=True, verbose_name='Last Ticket Sale')),
                ('prize_settled_at', models.DateTimeField(blank=True, null=True, verbose_name='Prize Settlement Date')),
                ('profit_paid_at', models.DateTimeField(blank=True, null=True, verbose_name='Profit Payment Date')),
                ('settled_at', models.DateTimeField(blank=True, null=True, verbose_name='Full Settlement Date')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('game', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='finance', to='principal.game', verbose_name='Game')),
            ],
            options={
                'verbose_name': 'Game Finance',
                'verbose_name_plural': 'Game Finances',
                'ordering': ['-created_at'],
            },
        ),
        migrations.AddField(
            model_name='draw',
            name='game',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='draws', to='principal.game', verbose_name='Game'),
        ),
        migrations.AddField(
            model_name='draw',
            name='verified_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='verified_draws', to=settings.AUTH_USER_MODEL, verbose_name='Draw Verified By'),
        ),
        migrations.CreateModel(
            name='CompanyUser',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('role', models.CharField(choices=[('admin', 'Administrator - Full Access'), ('manager', 'Manager - Operational Access'), ('finance', 'Finance - Financial Access'), ('viewer', 'Viewer - Read Only')], default='viewer', max_length=10, verbose_name='User Role in Company')),
                ('is_active', models.BooleanField(default=True, verbose_name='Role Active')),
                ('can_create_games', models.BooleanField(default=False, verbose_name='Can Create Games')),
                ('can_view_finances', models.BooleanField(default=False, verbose_name='Can View Financial Data')),
                ('can_manage_users', models.BooleanField(default=False, verbose_name='Can Manage Company Users')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('company', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='company_users', to='principal.company', verbose_name='Company')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='company_roles', to=settings.AUTH_USER_MODEL, verbose_name='User Account')),
            ],
            options={
                'verbose_name': 'Company User',
                'verbose_name_plural': 'Company Users',
                'ordering': ['company', 'role'],
            },
        ),
        migrations.AddIndex(
            model_name='company',
            index=models.Index(fields=['verified', 'is_active'], name='principal_c_verifie_b7dd26_idx'),
        ),
        migrations.AddIndex(
            model_name='company',
            index=models.Index(fields=['registration_number'], name='principal_c_registr_514ebe_idx'),
        ),
        migrations.AddField(
            model_name='auditlog',
            name='draw',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='principal.draw', verbose_name='Related Draw'),
        ),
        migrations.AddField(
            model_name='auditlog',
            name='game',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='principal.game', verbose_name='Related Game'),
        ),
        migrations.AddField(
            model_name='auditlog',
            name='payment',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='principal.payment', verbose_name='Related Payment'),
        ),
        migrations.AddField(
            model_name='auditlog',
            name='ticket',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='principal.ticket', verbose_name='Related Ticket'),
        ),
        migrations.AddField(
            model_name='auditlog',
            name='user',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='audit_logs', to=settings.AUTH_USER_MODEL, verbose_name='User Who Performed Action'),
        ),
        migrations.AddIndex(
            model_name='winner',
            index=models.Index(fields=['user', 'claimed'], name='principal_w_user_id_9da42a_idx'),
        ),
        migrations.AddIndex(
            model_name='winner',
            index=models.Index(fields=['paid', 'claimed'], name='principal_w_paid_d5905f_idx'),
        ),
        migrations.AddIndex(
            model_name='winner',
            index=models.Index(fields=['draw'], name='principal_w_draw_id_405cae_idx'),
        ),
        migrations.AddIndex(
            model_name='ticket',
            index=models.Index(fields=['user', 'status'], name='principal_t_user_id_2c9503_idx'),
        ),
        migrations.AddIndex(
            model_name='ticket',
            index=models.Index(fields=['game', 'draw_date'], name='principal_t_game_id_483194_idx'),
        ),
        migrations.AddIndex(
            model_name='ticket',
            index=models.Index(fields=['ticket_id'], name='principal_t_ticket__551eb5_idx'),
        ),
        migrations.AddIndex(
            model_name='ticket',
            index=models.Index(fields=['status', 'checked'], name='principal_t_status_086073_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='syndicatemember',
            unique_together={('syndicate', 'user')},
        ),
        migrations.AddIndex(
            model_name='payment',
            index=models.Index(fields=['user', 'status'], name='principal_p_user_id_3a6741_idx'),
        ),
        migrations.AddIndex(
            model_name='payment',
            index=models.Index(fields=['transaction_id'], name='principal_p_transac_8dbf9d_idx'),
        ),
        migrations.AddIndex(
            model_name='payment',
            index=models.Index(fields=['payment_type', 'status'], name='principal_p_payment_b5338f_idx'),
        ),
        migrations.AddIndex(
            model_name='payment',
            index=models.Index(fields=['created_at'], name='principal_p_created_2c63c8_idx'),
        ),
        migrations.AddIndex(
            model_name='game',
            index=models.Index(fields=['status', 'next_draw'], name='principal_g_status_089cd9_idx'),
        ),
        migrations.AddIndex(
            model_name='game',
            index=models.Index(fields=['organizer_type'], name='principal_g_organiz_d2a4c7_idx'),
        ),
        migrations.AddIndex(
            model_name='game',
            index=models.Index(fields=['slug'], name='principal_g_slug_5a28e7_idx'),
        ),
        migrations.AddIndex(
            model_name='draw',
            index=models.Index(fields=['game', 'draw_date'], name='principal_d_game_id_872f15_idx'),
        ),
        migrations.AddIndex(
            model_name='draw',
            index=models.Index(fields=['processed'], name='principal_d_process_414083_idx'),
        ),
        migrations.AddIndex(
            model_name='draw',
            index=models.Index(fields=['draw_number'], name='principal_d_draw_nu_24bb78_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='draw',
            unique_together={('game', 'draw_number')},
        ),
        migrations.AlterUniqueTogether(
            name='companyuser',
            unique_together={('user', 'company')},
        ),
        migrations.AddIndex(
            model_name='auditlog',
            index=models.Index(fields=['created_at'], name='principal_a_created_8296e2_idx'),
        ),
        migrations.AddIndex(
            model_name='auditlog',
            index=models.Index(fields=['action', 'level'], name='principal_a_action_92ea94_idx'),
        ),
        migrations.AddIndex(
            model_name='auditlog',
            index=models.Index(fields=['user', 'created_at'], name='principal_a_user_id_16a4be_idx'),
        ),
    ]
